{"ast":null,"code":"// AdminAgentControls.js\n// Purpose: Provides controls for admin users to manage agents in GoldenSignalsAI. Allows restarting or disabling agents via API calls. Displays action status and feedback messages for each operation.\nimport React,{useState}from\"react\";import API_URL from'./config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminAgentControls(_ref){let{agentName,onAction}=_ref;// State to indicate loading status for async actions\nconst[loading,setLoading]=useState(false);// State for feedback message to display action results\nconst[msg,setMsg]=useState(\"\");// Handle admin actions (restart/disable) for the agent\nconst handleAction=async action=>{setLoading(true);setMsg(\"\");try{// Send POST request to backend API for the selected action\nconst res=await fetch(\"\".concat(API_URL,\"/api/admin/agents/\").concat(agentName,\"/\").concat(action),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"}});const data=await res.json();setMsg(data.message);// Show feedback message\nif(onAction)onAction(action,data);// Notify parent if callback provided\n}catch(e){setMsg(\"Error performing action\");}setLoading(false);};// Render action buttons for restart and disable, and show feedback message\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"1rem 0\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAction(\"restart\"),disabled:loading,style:{marginRight:\"1rem\",background:\"#4fc3a1\",color:\"#fff\",border:\"none\",borderRadius:6,padding:\"0.5rem 1rem\",cursor:\"pointer\"},children:\"Restart Agent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAction(\"disable\"),disabled:loading,style:{background:\"#ff5252\",color:\"#fff\",border:\"none\",borderRadius:6,padding:\"0.5rem 1rem\",cursor:\"pointer\"},children:\"Disable Agent\"}),msg&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"1rem\",fontWeight:\"bold\"},children:msg})]});}export default AdminAgentControls;","map":{"version":3,"names":["React","useState","API_URL","jsx","_jsx","jsxs","_jsxs","AdminAgentControls","_ref","agentName","onAction","loading","setLoading","msg","setMsg","handleAction","action","res","fetch","concat","method","headers","data","json","message","e","style","margin","children","onClick","disabled","marginRight","background","color","border","borderRadius","padding","cursor","marginLeft","fontWeight"],"sources":["/Users/isaacbuz/Documents/Projects/GoldenSignalsAI/presentation/frontend/src/AdminAgentControls.js"],"sourcesContent":["// AdminAgentControls.js\n// Purpose: Provides controls for admin users to manage agents in GoldenSignalsAI. Allows restarting or disabling agents via API calls. Displays action status and feedback messages for each operation.\n\nimport React, { useState } from \"react\";\nimport API_URL from './config';\n\nfunction AdminAgentControls({ agentName, onAction }) {\n  // State to indicate loading status for async actions\n  const [loading, setLoading] = useState(false);\n  // State for feedback message to display action results\n  const [msg, setMsg] = useState(\"\");\n\n  // Handle admin actions (restart/disable) for the agent\n  const handleAction = async (action) => {\n    setLoading(true);\n    setMsg(\"\");\n    try {\n      // Send POST request to backend API for the selected action\n      const res = await fetch(`${API_URL}/api/admin/agents/${agentName}/${action}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      const data = await res.json();\n      setMsg(data.message); // Show feedback message\n      if (onAction) onAction(action, data); // Notify parent if callback provided\n    } catch (e) {\n      setMsg(\"Error performing action\");\n    }\n    setLoading(false);\n  };\n\n  // Render action buttons for restart and disable, and show feedback message\n  return (\n    <div style={{ margin: \"1rem 0\" }}>\n      <button\n        onClick={() => handleAction(\"restart\")}\n        disabled={loading}\n        style={{ marginRight: \"1rem\", background: \"#4fc3a1\", color: \"#fff\", border: \"none\", borderRadius: 6, padding: \"0.5rem 1rem\", cursor: \"pointer\" }}\n      >\n        Restart Agent\n      </button>\n      <button\n        onClick={() => handleAction(\"disable\")}\n        disabled={loading}\n        style={{ background: \"#ff5252\", color: \"#fff\", border: \"none\", borderRadius: 6, padding: \"0.5rem 1rem\", cursor: \"pointer\" }}\n      >\n        Disable Agent\n      </button>\n      {/* Show feedback message if present */}\n      {msg && <span style={{ marginLeft: \"1rem\", fontWeight: \"bold\" }}>{msg}</span>}\n    </div>\n  );\n}\n\nexport default AdminAgentControls;\n"],"mappings":"AAAA;AACA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,OAAO,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,QAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,SAAS,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACjD;AACA,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7C;AACA,KAAM,CAACY,GAAG,CAAEC,MAAM,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAElC;AACA,KAAM,CAAAc,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CACrCJ,UAAU,CAAC,IAAI,CAAC,CAChBE,MAAM,CAAC,EAAE,CAAC,CACV,GAAI,CACF;AACA,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIjB,OAAO,uBAAAiB,MAAA,CAAqBV,SAAS,MAAAU,MAAA,CAAIH,MAAM,EAAI,CAC5EI,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CAC7BT,MAAM,CAACQ,IAAI,CAACE,OAAO,CAAC,CAAE;AACtB,GAAId,QAAQ,CAAEA,QAAQ,CAACM,MAAM,CAAEM,IAAI,CAAC,CAAE;AACxC,CAAE,MAAOG,CAAC,CAAE,CACVX,MAAM,CAAC,yBAAyB,CAAC,CACnC,CACAF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED;AACA,mBACEN,KAAA,QAAKoB,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAC,QAAA,eAC/BxB,IAAA,WACEyB,OAAO,CAAEA,CAAA,GAAMd,YAAY,CAAC,SAAS,CAAE,CACvCe,QAAQ,CAAEnB,OAAQ,CAClBe,KAAK,CAAE,CAAEK,WAAW,CAAE,MAAM,CAAEC,UAAU,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,YAAY,CAAE,CAAC,CAAEC,OAAO,CAAE,aAAa,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAT,QAAA,CAClJ,eAED,CAAQ,CAAC,cACTxB,IAAA,WACEyB,OAAO,CAAEA,CAAA,GAAMd,YAAY,CAAC,SAAS,CAAE,CACvCe,QAAQ,CAAEnB,OAAQ,CAClBe,KAAK,CAAE,CAAEM,UAAU,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,YAAY,CAAE,CAAC,CAAEC,OAAO,CAAE,aAAa,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAT,QAAA,CAC7H,eAED,CAAQ,CAAC,CAERf,GAAG,eAAIT,IAAA,SAAMsB,KAAK,CAAE,CAAEY,UAAU,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAX,QAAA,CAAEf,GAAG,CAAO,CAAC,EAC1E,CAAC,CAEV,CAEA,cAAe,CAAAN,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}