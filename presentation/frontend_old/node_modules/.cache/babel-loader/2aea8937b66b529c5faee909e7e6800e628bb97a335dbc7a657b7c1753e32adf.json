{"ast":null,"code":"import _objectSpread from\"/Users/isaacbuz/Documents/Projects/GoldenSignalsAI/presentation/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// presentation/frontend/src/App.js\n// Purpose: Main entry point for the GoldenSignalsAI frontend. Handles routing, authentication state, and renders the appropriate component (dashboard, arbitrage, admin panel, etc.) based on user role and authentication status. Ensures a clean separation between user and admin experiences.\nimport React,{useState,useEffect,useRef}from\"react\";import'./App.css';import API_URL from'./config';import Arbitrage from'./Arbitrage';import AdminPanel from\"./AdminPanel\";import ErrorBoundary from\"./ErrorBoundary\";import Box from'@mui/material/Box';import CssBaseline from'@mui/material/CssBaseline';import AppBar from'@mui/material/AppBar';import Toolbar from'@mui/material/Toolbar';import Typography from'@mui/material/Typography';import IconButton from'@mui/material/IconButton';import MenuIcon from'@mui/icons-material/Menu';import Drawer from'@mui/material/Drawer';import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemText from'@mui/material/ListItemText';import DashboardIcon from'@mui/icons-material/Dashboard';import AdminPanelSettingsIcon from'@mui/icons-material/AdminPanelSettings';import Brightness4Icon from'@mui/icons-material/Brightness4';import Brightness7Icon from'@mui/icons-material/Brightness7';import Container from'@mui/material/Container';import Button from'@mui/material/Button';import{ThemeProvider,createTheme}from'@mui/material/styles';import useMediaQuery from'@mui/material/useMediaQuery';import Divider from'@mui/material/Divider';import Avatar from'@mui/material/Avatar';import Tooltip from'@mui/material/Tooltip';import SettingsIcon from'@mui/icons-material/Settings';import{deepPurple}from'@mui/material/colors';import Login from'./Login';import{createChart}from'lightweight-charts';// Add helper for JWT token retrieval if not present\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function getJwtToken(){return localStorage.getItem('jwt_token');}// Recharts imports\n// Lightweight Charts\n// (imported above)\n/**\n * App Component: Handles authentication state, routing, and rendering of components.\n * \n * @returns {JSX.Element} The rendered App component.\n */function App(){// State for tracking if the user is an admin\n// Bypass auth: set isAdmin and user directly for testing\nconst[isAdmin,setIsAdmin]=useState(false);// Set to true to test admin panel\nconst[user,setUser]=useState({displayName:'Test User',email:'test@example.com'});const[activeTab,setActiveTab]=useState('signals');const[symbol,setSymbol]=useState('AAPL');const[data,setData]=useState(null);const[token,setToken]=useState('dummy-token');// Bypass auth with dummy token\n// Chart controls\nconst[chartTimeframe,setChartTimeframe]=useState('D');const[chartType,setChartType]=useState('candlestick');// Token/session expiry state\n// Auth bypass: remove  state entirely\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[indicatorToggles,setIndicatorToggles]=useState({MA_Confluence:true,RSI:false,MACD_Strength:false,VWAP_Score:false,Volume_Spike:false});// Drawing tools state\nconst[drawingMode,setDrawingMode]=useState(null);// 'trendline' | 'annotation' | null\nconst[trendlines,setTrendlines]=useState([]);// [{start: {time, price}, end: {time, price}}]\nconst[pendingLine,setPendingLine]=useState(null);// {start: {time, price}}\nconst[annotations,setAnnotations]=useState([]);// [{time, price, text}]\n// Markers and indicators\nconst[tradeMarkers,setTradeMarkers]=useState([]);const[indicators,setIndicators]=useState({});// Chart container ref\nconst chartContainerRef=useRef();const chartRef=useRef();const candleSeriesRef=useRef();const lineSeriesRef=useRef();const indicatorSeriesRef=useRef();// Login form state (must be here, not inside conditional)\n// Login state and handlers fully removed for test mode\n// Listen for token expiry (Firebase)\n// Auth bypass: remove useEffect for token expiry\nuseEffect(()=>{setLoading(true);setError(null);let ws;let wsActive=false;let reconnectTimer=null;function connectWS(){ws=new window.WebSocket(\"ws://localhost:8001/ws/ohlcv?symbol=\".concat(symbol,\"&timeframe=\").concat(chartTimeframe));ws.onopen=()=>{wsActive=true;};ws.onmessage=event=>{try{const msg=JSON.parse(event.data);if(msg.bars){const candles=msg.bars.map(bar=>({time:Math.floor(new Date(bar.timestamp).getTime()/1000),open:bar.open,high:bar.high,low:bar.low,close:bar.close,value:bar.close,volume:bar.volume}));setData({candles,line:candles.map(c=>({time:c.time,value:c.close}))});}if(msg.indicators){setIndicators(msg.indicators);}setLoading(false);}catch(e){setError('Failed to parse real-time data');}};ws.onerror=e=>{ws.close();};ws.onclose=()=>{wsActive=false;if(!reconnectTimer){reconnectTimer=setTimeout(connectWS,2000);// Try reconnect in 2s\n}};}connectWS();// Fallback to REST fetch if WebSocket not available after 3s\nconst fallbackTimeout=setTimeout(()=>{if(!wsActive){Promise.all([fetch(\"\".concat(API_URL,\"/api/signal/markers?symbol=\").concat(symbol,\"&timeframe=\").concat(chartTimeframe)).then(async res=>{if(!res.ok){let text=await res.text();try{text=JSON.parse(text);}catch(_unused){}throw new Error(text.detail||text||res.status);}return res.json();}).catch(e=>{setError('Error loading markers: '+e.message);return[];}),fetch(\"\".concat(API_URL,\"/api/signal/indicators\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({symbol,timeframe:chartTimeframe})}).then(res=>res.json()),fetch(\"\".concat(API_URL,\"/api/ohlcv?symbol=\").concat(symbol,\"&timeframe=\").concat(chartTimeframe)).then(async res=>{if(!res.ok){let text=await res.text();try{text=JSON.parse(text);}catch(_unused2){}throw new Error(text.detail||text||res.status);}return res.json();}).catch(e=>{setError('Error loading OHLCV: '+e.message);return[];})]).then(_ref=>{let[markersData,indicatorsData,ohlcvRaw]=_ref;setTradeMarkers(markersData.markers||[]);setIndicators(indicatorsData.indicators||{});if(!ohlcvRaw||!ohlcvRaw.data)throw new Error('No OHLCV data');const candles=ohlcvRaw.data.map(bar=>({time:Math.floor(new Date(bar.timestamp).getTime()/1000),open:bar.open,high:bar.high,low:bar.low,close:bar.close,value:bar.close,volume:bar.volume}));setData({candles,line:candles.map(c=>({time:c.time,value:c.close}))});setLoading(false);}).catch(e=>{setError(e.message||'Failed to load chart data');setLoading(false);});}},3000);return()=>{if(ws)ws.close();if(reconnectTimer)clearTimeout(reconnectTimer);clearTimeout(fallbackTimeout);};},[symbol,chartTimeframe]);// Robust chart initialization and update\n// --- Chart rendering logic (refactored for real-time support) ---\nconst updateChart=()=>{if(!data||!chartContainerRef.current)return;if(chartRef.current)chartRef.current.remove();chartRef.current=createChart(chartContainerRef.current,{height:420,width:chartContainerRef.current.clientWidth,layout:{background:{type:'Solid',color:'#181A20'},textColor:'#DDD'},grid:{vertLines:{color:'#222'},horzLines:{color:'#222'}},timeScale:{borderColor:'#333'},rightPriceScale:{borderColor:'#333'},crosshair:{mode:1}});if(chartType==='candlestick'){candleSeriesRef.current=chartRef.current.addCandlestickSeries();candleSeriesRef.current.setData(data.candles);// Trade markers\nif(tradeMarkers&&tradeMarkers.length>0){candleSeriesRef.current.setMarkers(tradeMarkers.map(marker=>({time:Math.floor(new Date(marker.timestamp).getTime()/1000),position:marker.type==='entry'?'belowBar':'aboveBar',color:marker.type==='entry'?'green':marker.type==='take_profit'?'orange':'red',shape:marker.type==='entry'?'arrowUp':marker.type==='take_profit'?'circle':'arrowDown',text:marker.type.replace('_',' ').toUpperCase()})));}// Indicator overlays\nObject.entries(indicatorToggles).forEach(_ref2=>{let[key,enabled]=_ref2;if(enabled&&indicators[key]){let color='#FFD700';if(key==='RSI')color='#00BFFF';if(key==='MACD_Strength')color='#FF69B4';if(key==='VWAP_Score')color='#ADFF2F';if(key==='Volume_Spike')color='#FF8C00';const lineSeries=chartRef.current.addLineSeries({color,lineWidth:2});let seriesData;if(Array.isArray(indicators[key])){seriesData=data.candles.map((c,i)=>({time:c.time,value:indicators[key][i]}));}else{seriesData=data.candles.map(c=>({time:c.time,value:indicators[key]}));}lineSeries.setData(seriesData);}});// Trendlines\ntrendlines.forEach(line=>{const series=chartRef.current.addLineSeries({color:'#90ee90',lineWidth:2,priceLineVisible:false});series.setData([{time:line.start.time,value:line.start.price},{time:line.end.time,value:line.end.price}]);series.applyOptions({lastValueVisible:false,crosshairMarkerVisible:false});});// Annotations\nannotations.forEach(ann=>{// Use price marker for annotation\ncandleSeriesRef.current.createPriceLine({price:ann.price,color:'#FFA500',lineWidth:1,lineStyle:0,axisLabelVisible:true,title:ann.text});});}else{lineSeriesRef.current=chartRef.current.addLineSeries();lineSeriesRef.current.setData(data.line);}};useEffect(()=>{updateChart();// eslint-disable-next-line\n},[data,chartType,tradeMarkers,indicators,indicatorToggles,trendlines,annotations]);// --- Drawing tools event handlers ---\n// Trendline drawing\nuseEffect(()=>{if(!chartRef.current||drawingMode!=='trendline')return;const chart=chartRef.current;const handleClick=param=>{if(!param||!param.point)return;const price=chart.priceScale().coordinateToPrice(param.point.y);const time=chart.timeScale().coordinateToTime(param.point.x);if(!price||!time)return;if(!pendingLine){setPendingLine({start:{time,price}});}else{setTrendlines(lines=>[...lines,{start:pendingLine.start,end:{time,price}}]);setPendingLine(null);setDrawingMode(null);}};chart.subscribeClick(handleClick);return()=>chart.unsubscribeClick(handleClick);},[drawingMode,pendingLine]);// Annotation drawing\nuseEffect(()=>{if(!chartRef.current||drawingMode!=='annotation')return;const chart=chartRef.current;const handleClick=param=>{if(!param||!param.point)return;const price=chart.priceScale().coordinateToPrice(param.point.y);const time=chart.timeScale().coordinateToTime(param.point.x);if(!price||!time)return;const text=window.prompt('Annotation label:');if(typeof text==='string'&&text.trim().length>0){setAnnotations(list=>[...list,{time,price,text}]);}setDrawingMode(null);};chart.subscribeClick(handleClick);return()=>chart.unsubscribeClick(handleClick);},[drawingMode]);// Remove trendlines/annotations by click\nuseEffect(()=>{if(!chartRef.current||drawingMode)return;const chart=chartRef.current;const handleRemove=param=>{if(!param||!param.point)return;const price=chart.priceScale().coordinateToPrice(param.point.y);const time=chart.timeScale().coordinateToTime(param.point.x);if(!price||!time)return;// Remove trendline if click is near\nsetTrendlines(lines=>lines.filter(line=>{const dist=(p1,p2)=>Math.sqrt(Math.pow(p1.time-p2.time,2)+Math.pow(p1.price-p2.price,2));const d1=dist({time,price},line.start);const d2=dist({time,price},line.end);return d1>0.01&&d2>0.01;}));// Remove annotation if click is near\nsetAnnotations(list=>list.filter(ann=>{const dist=(p1,p2)=>Math.sqrt(Math.pow(p1.time-p2.time,2)+Math.pow(p1.price-p2.price,2));return dist({time,price},ann)>0.01;}));};chart.subscribeClick(handleRemove);return()=>chart.unsubscribeClick(handleRemove);},[drawingMode,trendlines,annotations]);/**\n   * On mount, fetch authentication status from backend or Firebase.\n   * \n   * @description This effect is used to check the authentication status of the user.\n   */// Auth bypass: remove backend auth status check for test mode\n/**\n   * On mount, login to get token.\n   * \n   * @description This effect is used to fetch the authentication token from the backend.\n   */// Login handler fully removed for test mode\n/**\n   * Fetch dashboard data when token is available and active tab is 'signals'.\n   * \n   * @description This effect is used to fetch the dashboard data from the backend.\n   */useEffect(()=>{if(token&&activeTab==='signals'){// Add error handling for 401/403 (token expired)\n// Call a real protected endpoint to test token validity\nfetch(\"\".concat(API_URL,\"/api/arbitrage/opportunities\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({symbol,min_spread:0.01})}).then(res=>{if(res.status===401||res.status===403){window.location.href='/login';return;}return res.json();}).then(data=>{// ... handle arbitrage opportunities data\n}).catch(err=>{if(err.message&&err.message.includes('401')){window.location.href='/login';}});fetch(\"\".concat(API_URL,\"/dashboard/\").concat(symbol),{headers:{'Authorization':\"Bearer \".concat(token)}}).then(response=>response.json()).then(data=>setData(data)).catch(error=>console.error('Error fetching dashboard data:',error));}},[symbol,token,activeTab]);// If authenticated and admin, render admin panel\n// Show error message if any error is present (except for auth errors, which are bypassed)\nif(error&&!error.toLowerCase().includes('auth')){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:createTheme(),children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{mt:8},children:/*#__PURE__*/_jsxs(Box,{className:\"card\",sx:{p:4,textAlign:'center',color:'error.main'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error\",children:\"Error\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",sx:{mt:2},onClick:()=>window.location.reload(),children:\"Reload\"})]})})]});}// Show loading indicator if loading\nif(loading){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:createTheme(),children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{mt:8},children:/*#__PURE__*/_jsxs(Box,{className:\"card\",sx:{p:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Loading...\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Please wait while we load your dashboard.\"})]})})]});}// Always render admin panel for testing if isAdmin is true\nif(isAdmin){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:createTheme(),children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(AdminPanel,{user:user})})]});}// Always render dashboard for testing if not admin\nreturn/*#__PURE__*/_jsxs(ThemeProvider,{theme:createTheme(),children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"static\",color:\"primary\",elevation:1,children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{flexGrow:1},children:\"GoldenSignalsAI\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:()=>setActiveTab(\"signals\"),startIcon:/*#__PURE__*/_jsx(DashboardIcon,{}),sx:{mr:1},variant:activeTab===\"signals\"?\"contained\":\"text\",children:\"Trading Signals\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:()=>setActiveTab(\"arbitrage\"),startIcon:/*#__PURE__*/_jsx(DashboardIcon,{}),sx:{mr:1},variant:activeTab===\"arbitrage\"?\"contained\":\"text\",children:\"Arbitrage\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:()=>setActiveTab(\"admin\"),startIcon:/*#__PURE__*/_jsx(AdminPanelSettingsIcon,{}),sx:{mr:1},variant:activeTab===\"admin\"?\"contained\":\"text\",children:\"Admin\"})]})}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{mt:4},children:[activeTab===\"signals\"&&/*#__PURE__*/_jsxs(Box,{className:\"card\",sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Trading Signals\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mr:2},children:\"Symbol:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSymbol(e.target.value),value:symbol,style:{fontSize:16,padding:6,borderRadius:6},children:[/*#__PURE__*/_jsx(\"option\",{value:\"AAPL\",children:\"AAPL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GOOGL\",children:\"GOOGL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MSFT\",children:\"MSFT\"})]})]}),data?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:data.symbol}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[\"Price: $\",data.price]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[\"Trend: \",data.trend]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{mb:2},children:\"Advanced Chart\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Timeframe:\"}),/*#__PURE__*/_jsxs(\"select\",{value:chartTimeframe,onChange:e=>setChartTimeframe(e.target.value),style:{fontSize:16,padding:6,borderRadius:6},children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"15m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"30m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"60\",children:\"1h\"}),/*#__PURE__*/_jsx(\"option\",{value:\"D\",children:\"1D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"W\",children:\"1W\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Chart Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:chartType,onChange:e=>setChartType(e.target.value),style:{fontSize:16,padding:6,borderRadius:6},children:[/*#__PURE__*/_jsx(\"option\",{value:\"candlestick\",children:\"Candlestick\"}),/*#__PURE__*/_jsx(\"option\",{value:\"line\",children:\"Line\"})]})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:2,mb:2},children:Object.keys(indicatorToggles).map(ind=>/*#__PURE__*/_jsxs(\"label\",{style:{marginRight:10},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:indicatorToggles[ind],onChange:()=>setIndicatorToggles(toggles=>_objectSpread(_objectSpread({},toggles),{},{[ind]:!toggles[ind]}))}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:4},children:ind.replace('_',' ')})]},ind))}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%',height:450},children:/*#__PURE__*/_jsx(\"div\",{ref:chartContainerRef,style:{height:420,width:'100%'}})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Button,{variant:drawingMode==='trendline'?\"contained\":\"outlined\",size:\"small\",color:drawingMode==='trendline'?\"primary\":\"inherit\",onClick:()=>setDrawingMode(drawingMode==='trendline'?null:'trendline'),children:drawingMode==='trendline'?'Click Chart to Draw':'Draw Trendline'}),/*#__PURE__*/_jsx(Button,{variant:drawingMode==='annotation'?\"contained\":\"outlined\",size:\"small\",color:drawingMode==='annotation'?\"primary\":\"inherit\",sx:{ml:1},onClick:()=>setDrawingMode(drawingMode==='annotation'?null:'annotation'),children:drawingMode==='annotation'?'Click Chart to Add':'Add Annotation'})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:tradeMarkers.map((marker,idx)=>/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:marker.type==='entry'?'success.main':marker.type==='take_profit'?'warning.main':marker.type==='exit'?'error.main':'text.secondary',children:[marker.type.replace('_',' ').replace(/\\b\\w/g,l=>l.toUpperCase()),\": $\",marker.price,\" (\",new Date(marker.timestamp).toLocaleDateString(),\")\"]},idx))}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Technical Indicators:\"}),Object.entries(indicators).length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Loading indicators...\"}),Object.entries(indicators).map(_ref3=>{let[key,value]=_ref3;return/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{mr:2},children:[key,\": \",typeof value==='number'?value.toFixed(2):value]},key);})]})]})]}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Loading...\"})]}),activeTab===\"arbitrage\"&&/*#__PURE__*/_jsx(Box,{className:\"card\",children:/*#__PURE__*/_jsx(Arbitrage,{})}),activeTab===\"admin\"&&/*#__PURE__*/_jsx(Box,{className:\"card\",children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(AdminPanel,{})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","API_URL","Arbitrage","AdminPanel","ErrorBoundary","Box","CssBaseline","AppBar","Toolbar","Typography","IconButton","MenuIcon","Drawer","List","ListItem","ListItemIcon","ListItemText","DashboardIcon","AdminPanelSettingsIcon","Brightness4Icon","Brightness7Icon","Container","Button","ThemeProvider","createTheme","useMediaQuery","Divider","Avatar","Tooltip","SettingsIcon","deepPurple","Login","createChart","jsx","_jsx","jsxs","_jsxs","getJwtToken","localStorage","getItem","App","isAdmin","setIsAdmin","user","setUser","displayName","email","activeTab","setActiveTab","symbol","setSymbol","data","setData","token","setToken","chartTimeframe","setChartTimeframe","chartType","setChartType","loading","setLoading","error","setError","indicatorToggles","setIndicatorToggles","MA_Confluence","RSI","MACD_Strength","VWAP_Score","Volume_Spike","drawingMode","setDrawingMode","trendlines","setTrendlines","pendingLine","setPendingLine","annotations","setAnnotations","tradeMarkers","setTradeMarkers","indicators","setIndicators","chartContainerRef","chartRef","candleSeriesRef","lineSeriesRef","indicatorSeriesRef","ws","wsActive","reconnectTimer","connectWS","window","WebSocket","concat","onopen","onmessage","event","msg","JSON","parse","bars","candles","map","bar","time","Math","floor","Date","timestamp","getTime","open","high","low","close","value","volume","line","c","e","onerror","onclose","setTimeout","fallbackTimeout","Promise","all","fetch","then","res","ok","text","_unused","Error","detail","status","json","catch","message","method","headers","body","stringify","timeframe","_unused2","_ref","markersData","indicatorsData","ohlcvRaw","markers","clearTimeout","updateChart","current","remove","height","width","clientWidth","layout","background","type","color","textColor","grid","vertLines","horzLines","timeScale","borderColor","rightPriceScale","crosshair","mode","addCandlestickSeries","length","setMarkers","marker","position","shape","replace","toUpperCase","Object","entries","forEach","_ref2","key","enabled","lineSeries","addLineSeries","lineWidth","seriesData","Array","isArray","i","series","priceLineVisible","start","price","end","applyOptions","lastValueVisible","crosshairMarkerVisible","ann","createPriceLine","lineStyle","axisLabelVisible","title","chart","handleClick","param","point","priceScale","coordinateToPrice","y","coordinateToTime","x","lines","subscribeClick","unsubscribeClick","prompt","trim","list","handleRemove","filter","dist","p1","p2","sqrt","pow","d1","d2","min_spread","location","href","err","includes","response","console","toLowerCase","theme","children","maxWidth","sx","mt","className","p","textAlign","variant","onClick","reload","elevation","flexGrow","startIcon","mr","mb","gutterBottom","display","alignItems","onChange","target","style","fontSize","padding","borderRadius","trend","gap","keys","ind","marginRight","checked","toggles","_objectSpread","marginLeft","ref","size","ml","idx","l","toLocaleDateString","_ref3","toFixed"],"sources":["/Users/isaacbuz/Documents/Projects/GoldenSignalsAI/presentation/frontend/src/App.js"],"sourcesContent":["// presentation/frontend/src/App.js\n// Purpose: Main entry point for the GoldenSignalsAI frontend. Handles routing, authentication state, and renders the appropriate component (dashboard, arbitrage, admin panel, etc.) based on user role and authentication status. Ensures a clean separation between user and admin experiences.\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport './App.css';\nimport API_URL from './config';\nimport Arbitrage from './Arbitrage';\nimport AdminPanel from \"./AdminPanel\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport Box from '@mui/material/Box';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Drawer from '@mui/material/Drawer';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\nimport Container from '@mui/material/Container';\nimport Button from '@mui/material/Button';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Divider from '@mui/material/Divider';\nimport Avatar from '@mui/material/Avatar';\nimport Tooltip from '@mui/material/Tooltip';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport { deepPurple } from '@mui/material/colors';\nimport Login from './Login';\nimport { createChart } from 'lightweight-charts';\n\n// Add helper for JWT token retrieval if not present\nfunction getJwtToken() {\n  return localStorage.getItem('jwt_token');\n}\n// Recharts imports\n\n\n// Lightweight Charts\n// (imported above)\n\n\n\n/**\n * App Component: Handles authentication state, routing, and rendering of components.\n * \n * @returns {JSX.Element} The rendered App component.\n */\nfunction App() {\n  // State for tracking if the user is an admin\n  // Bypass auth: set isAdmin and user directly for testing\n  const [isAdmin, setIsAdmin] = useState(false); // Set to true to test admin panel\n  const [user, setUser] = useState({ displayName: 'Test User', email: 'test@example.com' });\n  const [activeTab, setActiveTab] = useState('signals');\n  const [symbol, setSymbol] = useState('AAPL');\n  const [data, setData] = useState(null);\n  const [token, setToken] = useState('dummy-token'); // Bypass auth with dummy token\n  // Chart controls\n  const [chartTimeframe, setChartTimeframe] = useState('D');\n  const [chartType, setChartType] = useState('candlestick');\n  // Token/session expiry state\n  // Auth bypass: remove  state entirely\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [indicatorToggles, setIndicatorToggles] = useState({ MA_Confluence: true, RSI: false, MACD_Strength: false, VWAP_Score: false, Volume_Spike: false });\n  // Drawing tools state\n  const [drawingMode, setDrawingMode] = useState(null); // 'trendline' | 'annotation' | null\n  const [trendlines, setTrendlines] = useState([]); // [{start: {time, price}, end: {time, price}}]\n  const [pendingLine, setPendingLine] = useState(null); // {start: {time, price}}\n  const [annotations, setAnnotations] = useState([]); // [{time, price, text}]\n  // Markers and indicators\n  const [tradeMarkers, setTradeMarkers] = useState([]);\n  const [indicators, setIndicators] = useState({});\n  // Chart container ref\n  const chartContainerRef = useRef();\n  const chartRef = useRef();\n  const candleSeriesRef = useRef();\n  const lineSeriesRef = useRef();\n  const indicatorSeriesRef = useRef();\n  // Login form state (must be here, not inside conditional)\n  // Login state and handlers fully removed for test mode\n\n  // Listen for token expiry (Firebase)\n  // Auth bypass: remove useEffect for token expiry\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    let ws;\n    let wsActive = false;\n    let reconnectTimer = null;\n    function connectWS() {\n      ws = new window.WebSocket(`ws://localhost:8001/ws/ohlcv?symbol=${symbol}&timeframe=${chartTimeframe}`);\n      ws.onopen = () => { wsActive = true; };\n      ws.onmessage = (event) => {\n        try {\n          const msg = JSON.parse(event.data);\n          if (msg.bars) {\n            const candles = msg.bars.map(bar => ({\n              time: Math.floor(new Date(bar.timestamp).getTime() / 1000),\n              open: bar.open,\n              high: bar.high,\n              low: bar.low,\n              close: bar.close,\n              value: bar.close,\n              volume: bar.volume\n            }));\n            setData({\n              candles,\n              line: candles.map(c => ({ time: c.time, value: c.close }))\n            });\n          }\n          if (msg.indicators) {\n            setIndicators(msg.indicators);\n          }\n          setLoading(false);\n        } catch (e) {\n          setError('Failed to parse real-time data');\n        }\n      };\n      ws.onerror = (e) => {\n        ws.close();\n      };\n      ws.onclose = () => {\n        wsActive = false;\n        if (!reconnectTimer) {\n          reconnectTimer = setTimeout(connectWS, 2000); // Try reconnect in 2s\n        }\n      };\n    }\n    connectWS();\n    // Fallback to REST fetch if WebSocket not available after 3s\n    const fallbackTimeout = setTimeout(() => {\n      if (!wsActive) {\n        Promise.all([\n          fetch(`${API_URL}/api/signal/markers?symbol=${symbol}&timeframe=${chartTimeframe}`).then(async res => { if (!res.ok) { let text = await res.text(); try { text = JSON.parse(text); } catch {} throw new Error(text.detail || text || res.status); } return res.json(); }).catch(e => { setError('Error loading markers: ' + e.message); return []; }),\n          fetch(`${API_URL}/api/signal/indicators`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ symbol, timeframe: chartTimeframe })\n          }).then(res => res.json()),\n          fetch(`${API_URL}/api/ohlcv?symbol=${symbol}&timeframe=${chartTimeframe}`).then(async res => { if (!res.ok) { let text = await res.text(); try { text = JSON.parse(text); } catch {} throw new Error(text.detail || text || res.status); } return res.json(); }).catch(e => { setError('Error loading OHLCV: ' + e.message); return []; })\n        ]).then(([markersData, indicatorsData, ohlcvRaw]) => {\n          setTradeMarkers(markersData.markers || []);\n          setIndicators(indicatorsData.indicators || {});\n          if (!ohlcvRaw || !ohlcvRaw.data) throw new Error('No OHLCV data');\n          const candles = ohlcvRaw.data.map(bar => ({\n            time: Math.floor(new Date(bar.timestamp).getTime() / 1000),\n            open: bar.open,\n            high: bar.high,\n            low: bar.low,\n            close: bar.close,\n            value: bar.close,\n            volume: bar.volume\n          }));\n          setData({\n            candles,\n            line: candles.map(c => ({ time: c.time, value: c.close }))\n          });\n          setLoading(false);\n        }).catch(e => {\n          setError(e.message || 'Failed to load chart data');\n          setLoading(false);\n        });\n      }\n    }, 3000);\n    return () => {\n      if (ws) ws.close();\n      if (reconnectTimer) clearTimeout(reconnectTimer);\n      clearTimeout(fallbackTimeout);\n    };\n  }, [symbol, chartTimeframe]);\n\n  // Robust chart initialization and update\n  // --- Chart rendering logic (refactored for real-time support) ---\n  const updateChart = () => {\n    if (!data || !chartContainerRef.current) return;\n    if (chartRef.current) chartRef.current.remove();\n    chartRef.current = createChart(chartContainerRef.current, {\n      height: 420,\n      width: chartContainerRef.current.clientWidth,\n      layout: { background: { type: 'Solid', color: '#181A20' }, textColor: '#DDD' },\n      grid: { vertLines: { color: '#222' }, horzLines: { color: '#222' } },\n      timeScale: { borderColor: '#333' },\n      rightPriceScale: { borderColor: '#333' },\n      crosshair: { mode: 1 }\n    });\n    if (chartType === 'candlestick') {\n      candleSeriesRef.current = chartRef.current.addCandlestickSeries();\n      candleSeriesRef.current.setData(data.candles);\n      // Trade markers\n      if (tradeMarkers && tradeMarkers.length > 0) {\n        candleSeriesRef.current.setMarkers(tradeMarkers.map(marker => ({\n          time: Math.floor(new Date(marker.timestamp).getTime() / 1000),\n          position: marker.type === 'entry' ? 'belowBar' : 'aboveBar',\n          color: marker.type === 'entry' ? 'green' : marker.type === 'take_profit' ? 'orange' : 'red',\n          shape: marker.type === 'entry' ? 'arrowUp' : marker.type === 'take_profit' ? 'circle' : 'arrowDown',\n          text: marker.type.replace('_', ' ').toUpperCase()\n        })));\n      }\n      // Indicator overlays\n      Object.entries(indicatorToggles).forEach(([key, enabled]) => {\n        if (enabled && indicators[key]) {\n          let color = '#FFD700';\n          if (key === 'RSI') color = '#00BFFF';\n          if (key === 'MACD_Strength') color = '#FF69B4';\n          if (key === 'VWAP_Score') color = '#ADFF2F';\n          if (key === 'Volume_Spike') color = '#FF8C00';\n          const lineSeries = chartRef.current.addLineSeries({ color, lineWidth: 2 });\n          let seriesData;\n          if (Array.isArray(indicators[key])) {\n            seriesData = data.candles.map((c, i) => ({ time: c.time, value: indicators[key][i] }));\n          } else {\n            seriesData = data.candles.map(c => ({ time: c.time, value: indicators[key] }));\n          }\n          lineSeries.setData(seriesData);\n        }\n      });\n      // Trendlines\n      trendlines.forEach(line => {\n        const series = chartRef.current.addLineSeries({ color: '#90ee90', lineWidth: 2, priceLineVisible: false });\n        series.setData([\n          { time: line.start.time, value: line.start.price },\n          { time: line.end.time, value: line.end.price }\n        ]);\n        series.applyOptions({ lastValueVisible: false, crosshairMarkerVisible: false });\n      });\n      // Annotations\n      annotations.forEach(ann => {\n        // Use price marker for annotation\n        candleSeriesRef.current.createPriceLine({\n          price: ann.price,\n          color: '#FFA500',\n          lineWidth: 1,\n          lineStyle: 0,\n          axisLabelVisible: true,\n          title: ann.text\n        });\n      });\n    } else {\n      lineSeriesRef.current = chartRef.current.addLineSeries();\n      lineSeriesRef.current.setData(data.line);\n    }\n  };\n\n  useEffect(() => {\n    updateChart();\n    // eslint-disable-next-line\n  }, [data, chartType, tradeMarkers, indicators, indicatorToggles, trendlines, annotations]);\n\n  // --- Drawing tools event handlers ---\n  // Trendline drawing\n  useEffect(() => {\n    if (!chartRef.current || drawingMode !== 'trendline') return;\n    const chart = chartRef.current;\n    const handleClick = (param) => {\n      if (!param || !param.point) return;\n      const price = chart.priceScale().coordinateToPrice(param.point.y);\n      const time = chart.timeScale().coordinateToTime(param.point.x);\n      if (!price || !time) return;\n      if (!pendingLine) {\n        setPendingLine({ start: { time, price } });\n      } else {\n        setTrendlines(lines => [...lines, { start: pendingLine.start, end: { time, price } }]);\n        setPendingLine(null);\n        setDrawingMode(null);\n      }\n    };\n    chart.subscribeClick(handleClick);\n    return () => chart.unsubscribeClick(handleClick);\n  }, [drawingMode, pendingLine]);\n\n  // Annotation drawing\n  useEffect(() => {\n    if (!chartRef.current || drawingMode !== 'annotation') return;\n    const chart = chartRef.current;\n    const handleClick = (param) => {\n      if (!param || !param.point) return;\n      const price = chart.priceScale().coordinateToPrice(param.point.y);\n      const time = chart.timeScale().coordinateToTime(param.point.x);\n      if (!price || !time) return;\n      const text = window.prompt('Annotation label:');\n      if (typeof text === 'string' && text.trim().length > 0) {\n        setAnnotations(list => [...list, { time, price, text }]);\n      }\n      setDrawingMode(null);\n    };\n    chart.subscribeClick(handleClick);\n    return () => chart.unsubscribeClick(handleClick);\n  }, [drawingMode]);\n\n  // Remove trendlines/annotations by click\n  useEffect(() => {\n    if (!chartRef.current || drawingMode) return;\n    const chart = chartRef.current;\n    const handleRemove = (param) => {\n      if (!param || !param.point) return;\n      const price = chart.priceScale().coordinateToPrice(param.point.y);\n      const time = chart.timeScale().coordinateToTime(param.point.x);\n      if (!price || !time) return;\n      // Remove trendline if click is near\n      setTrendlines(lines => lines.filter(line => {\n        const dist = (p1, p2) => Math.sqrt(Math.pow(p1.time - p2.time, 2) + Math.pow(p1.price - p2.price, 2));\n        const d1 = dist({ time, price }, line.start);\n        const d2 = dist({ time, price }, line.end);\n        return d1 > 0.01 && d2 > 0.01;\n      }));\n      // Remove annotation if click is near\n      setAnnotations(list => list.filter(ann => {\n        const dist = (p1, p2) => Math.sqrt(Math.pow(p1.time - p2.time, 2) + Math.pow(p1.price - p2.price, 2));\n        return dist({ time, price }, ann) > 0.01;\n      }));\n    };\n    chart.subscribeClick(handleRemove);\n    return () => chart.unsubscribeClick(handleRemove);\n  }, [drawingMode, trendlines, annotations]);\n\n  /**\n   * On mount, fetch authentication status from backend or Firebase.\n   * \n   * @description This effect is used to check the authentication status of the user.\n   */\n  // Auth bypass: remove backend auth status check for test mode\n\n  /**\n   * On mount, login to get token.\n   * \n   * @description This effect is used to fetch the authentication token from the backend.\n   */\n\n  // Login handler fully removed for test mode\n\n\n  /**\n   * Fetch dashboard data when token is available and active tab is 'signals'.\n   * \n   * @description This effect is used to fetch the dashboard data from the backend.\n   */\n  useEffect(() => {\n    if (token && activeTab === 'signals') {\n      // Add error handling for 401/403 (token expired)\n      // Call a real protected endpoint to test token validity\n      fetch(`${API_URL}/api/arbitrage/opportunities`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ symbol, min_spread: 0.01 })\n      })\n      .then(res => {\n        if (res.status === 401 || res.status === 403) {\n          \n          window.location.href = '/login';\n          return;\n        }\n        return res.json();\n      })\n      .then(data => {\n        // ... handle arbitrage opportunities data\n      })\n      .catch(err => {\n        if (err.message && err.message.includes('401')) {\n          \n          window.location.href = '/login';\n        }\n      });\n      fetch(`${API_URL}/dashboard/${symbol}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n        .then(response => response.json())\n        .then(data => setData(data))\n        .catch(error => console.error('Error fetching dashboard data:', error));\n    }\n  }, [symbol, token, activeTab]);\n\n  // If authenticated and admin, render admin panel\n  // Show error message if any error is present (except for auth errors, which are bypassed)\n  if (error && !error.toLowerCase().includes('auth')) {\n    return (\n      <ThemeProvider theme={createTheme()}>\n        <CssBaseline />\n        <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\n          <Box className=\"card\" sx={{ p: 4, textAlign: 'center', color: 'error.main' }}>\n            <Typography variant=\"h5\" color=\"error\">Error</Typography>\n            <Typography variant=\"body1\">{error}</Typography>\n            <Button variant=\"contained\" color=\"primary\" sx={{ mt: 2 }} onClick={() => window.location.reload()}>Reload</Button>\n          </Box>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n\n  // Show loading indicator if loading\n  if (loading) {\n    return (\n      <ThemeProvider theme={createTheme()}>\n        <CssBaseline />\n        <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\n          <Box className=\"card\" sx={{ p: 4, textAlign: 'center' }}>\n            <Typography variant=\"h5\">Loading...</Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">Please wait while we load your dashboard.</Typography>\n          </Box>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n\n  // Always render admin panel for testing if isAdmin is true\n  if (isAdmin) {\n    return (\n      <ThemeProvider theme={createTheme()}>\n        <CssBaseline />\n        <ErrorBoundary>\n          <AdminPanel user={user} />\n        </ErrorBoundary>\n      </ThemeProvider>\n    );\n  }\n\n  // Always render dashboard for testing if not admin\n  return (\n    <ThemeProvider theme={createTheme()}>\n      <CssBaseline />\n\n      <AppBar position=\"static\" color=\"primary\" elevation={1}>\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n            GoldenSignalsAI\n          </Typography>\n          <Button color=\"inherit\" onClick={() => setActiveTab(\"signals\")} startIcon={<DashboardIcon />} sx={{ mr: 1 }} variant={activeTab === \"signals\" ? \"contained\" : \"text\"}>\n            Trading Signals\n          </Button>\n          <Button color=\"inherit\" onClick={() => setActiveTab(\"arbitrage\")} startIcon={<DashboardIcon />} sx={{ mr: 1 }} variant={activeTab === \"arbitrage\" ? \"contained\" : \"text\"}>\n            Arbitrage\n          </Button>\n          <Button color=\"inherit\" onClick={() => setActiveTab(\"admin\")} startIcon={<AdminPanelSettingsIcon />} sx={{ mr: 1 }} variant={activeTab === \"admin\" ? \"contained\" : \"text\"}>\n            Admin\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n        {activeTab === \"signals\" && (\n          <Box className=\"card\" sx={{ mb: 4 }}>\n            <Typography variant=\"h5\" gutterBottom>Trading Signals</Typography>\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n              <Typography variant=\"body1\" sx={{ mr: 2 }}>Symbol:</Typography>\n              <select onChange={(e) => setSymbol(e.target.value)} value={symbol} style={{ fontSize: 16, padding: 6, borderRadius: 6 }}>\n                <option value=\"AAPL\">AAPL</option>\n                <option value=\"GOOGL\">GOOGL</option>\n                <option value=\"MSFT\">MSFT</option>\n              </select>\n            </Box>\n            {data ? (\n              <Box>\n                <Typography variant=\"h6\">{data.symbol}</Typography>\n                <Typography variant=\"body1\">Price: ${data.price}</Typography>\n                <Typography variant=\"body1\">Trend: {data.trend}</Typography>\n                <Box sx={{ mt: 4 }}>\n                  <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>Advanced Chart</Typography>\n                  <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\n                    <Typography variant=\"body2\">Timeframe:</Typography>\n                    <select value={chartTimeframe} onChange={e => setChartTimeframe(e.target.value)} style={{ fontSize: 16, padding: 6, borderRadius: 6 }}>\n                      <option value=\"1\">1m</option>\n                      <option value=\"5\">5m</option>\n                      <option value=\"15\">15m</option>\n                      <option value=\"30\">30m</option>\n                      <option value=\"60\">1h</option>\n                      <option value=\"D\">1D</option>\n                      <option value=\"W\">1W</option>\n                    </select>\n                    <Typography variant=\"body2\">Chart Type:</Typography>\n                    <select value={chartType} onChange={e => setChartType(e.target.value)} style={{ fontSize: 16, padding: 6, borderRadius: 6 }}>\n                      <option value=\"candlestick\">Candlestick</option>\n                      <option value=\"line\">Line</option>\n                    </select>\n                  </Box>\n                  {/* Indicator toggles */}\n                  <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\n                    {Object.keys(indicatorToggles).map(ind => (\n                      <label key={ind} style={{ marginRight: 10 }}>\n                        <input type=\"checkbox\" checked={indicatorToggles[ind]} onChange={() => setIndicatorToggles(toggles => ({ ...toggles, [ind]: !toggles[ind] }))} />\n                        <span style={{ marginLeft: 4 }}>{ind.replace('_', ' ')}</span>\n                      </label>\n                    ))}\n                  </Box>\n                  <Box sx={{ width: '100%', height: 450 }}>\n                    <div ref={chartContainerRef} style={{ height: 420, width: '100%' }} />\n                  </Box>\n                  {/* Placeholder for drawing tools */}\n                  <Box sx={{ mt: 2 }}>\n                    <Button\n                      variant={drawingMode === 'trendline' ? \"contained\" : \"outlined\"}\n                      size=\"small\"\n                      color={drawingMode === 'trendline' ? \"primary\" : \"inherit\"}\n                      onClick={() => setDrawingMode(drawingMode === 'trendline' ? null : 'trendline')}\n                    >\n                      {drawingMode === 'trendline' ? 'Click Chart to Draw' : 'Draw Trendline'}\n                    </Button>\n                    <Button\n                      variant={drawingMode === 'annotation' ? \"contained\" : \"outlined\"}\n                      size=\"small\"\n                      color={drawingMode === 'annotation' ? \"primary\" : \"inherit\"}\n                      sx={{ ml: 1 }}\n                      onClick={() => setDrawingMode(drawingMode === 'annotation' ? null : 'annotation')}\n                    >\n                      {drawingMode === 'annotation' ? 'Click Chart to Add' : 'Add Annotation'}\n                    </Button>\n                  </Box>\n                  {/* Trade markers from backend */}\n                  <Box sx={{ mt: 1 }}>\n                    {tradeMarkers.map((marker, idx) => (\n                      <Typography key={idx} variant=\"caption\" color={\n                        marker.type === 'entry' ? 'success.main' :\n                        marker.type === 'take_profit' ? 'warning.main' :\n                        marker.type === 'exit' ? 'error.main' : 'text.secondary'\n                      }>\n                        {marker.type.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}: ${marker.price} ({new Date(marker.timestamp).toLocaleDateString()})\n                      </Typography>\n                    ))}\n                  </Box>\n                  {/* Technical indicators */}\n                  <Box sx={{ mt: 2 }}>\n                    <Typography variant=\"subtitle2\">Technical Indicators:</Typography>\n                    {Object.entries(indicators).length === 0 && (\n                      <Typography variant=\"caption\" color=\"text.secondary\">Loading indicators...</Typography>\n                    )}\n                    {Object.entries(indicators).map(([key, value]) => (\n                      <Typography key={key} variant=\"caption\" sx={{ mr: 2 }}>\n                        {key}: {typeof value === 'number' ? value.toFixed(2) : value}\n                      </Typography>\n                    ))}\n                  </Box>\n                </Box>\n              </Box>\n            ) : (\n              <Typography variant=\"body2\">Loading...</Typography>\n            )}\n          </Box>\n        )}\n        {activeTab === \"arbitrage\" && (\n          <Box className=\"card\">\n            <Arbitrage />\n          </Box>\n        )}\n        {activeTab === \"admin\" && (\n          <Box className=\"card\">\n            <ErrorBoundary><AdminPanel /></ErrorBoundary>\n          </Box>\n        )}\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}